{
  "summary": "Create a BFB image for NVIDIA BlueField DPUs",
  "description": [
    "Packages CoreOS live artifacts into NVIDIA BFB format for BlueField DPUs.",
    "Takes kernel, initramfs, and optionally rootfs as inputs.",
    "If rootfs is provided, it is concatenated with initramfs.",
    "Buildhost commands used: `mlx-mkbfb`"
  ],
  "schema_2": {
    "options": {
      "additionalProperties": false,
      "required": ["filename"],
      "properties": {
        "filename": {
          "type": "string",
          "description": "Output BFB filename"
        },
        "boot_args_v0": {
          "type": "array",
          "items": {"type": "string"},
          "description": "Boot arguments for older DPU firmware (BF1/BF2). Defaults include console, earlycon, and initrd=initramfs."
        },
        "boot_args_v2": {
          "type": "array",
          "items": {"type": "string"},
          "description": "Boot arguments for newer DPU firmware (BF3). Defaults include console, earlycon, initrd=initramfs, and ignition platform settings."
        },
        "boot_path": {
          "type": "string",
          "description": "UEFI boot path"
        },
        "boot_desc": {
          "type": "string",
          "description": "Boot entry description"
        }
      }
    },
    "inputs": {
      "type": "object",
      "additionalProperties": true
    }
  }
}
